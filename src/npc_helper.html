<div id="npc_helper_draggable" style="position: absolute;width:600px;min-height:200px;background-color:#bed4f7">
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
	<script type="text/javascript" src="npc_helper.js"></script>
	
	<div style="width:100%; height:20px;background-color:#b9f442;padding-top:0px"> </div>
	<table style="margin:auto;width:100%;padding-top:20px;" cellpadding="0" cellspacing="0" border="1">
		<thead>
			<tr>
				<th style="width:30%">Name</th>
				<th>Levels</th>
				<th>Resources</th>
				<th style="width:10%">Command</th>
			</tr>
		</thead>
		<tbody id="npc_body" align="center">
			
			<tr id="npc_add" style="background-color:#41f4f1">
				<td><select id="npc_add_item"></select></td>
				<td>
					<input type="number" id="npc_level_from" min="0" max="24" style="width:50px" onchange="input_number_onchange()"></input>
					-
					<input type="number" id="npc_level_to" min="1" max="25" style="width:50px" onchange="input_number_onchange()"></input>
				</td>
				<td>l</td>
				<td><button>Add</button></td>
			</tr>
		</tbody>
	</table>
	<div style="width:100%;">
	test
	</div>
	
	<script type="text/javascript">
	npc_onload();
	function npc_onload(){
		window.npc_helper.e_npc_add_item = $("#npc_add_item")[0];
		
		var e_option = document.createElement("option");
		e_option.value = "-1";
		npc_helper.e_npc_add_item.appendChild(e_option);
		
		var optgroup_building = document.createElement("optgroup");
		optgroup_building.label = "Buildings";
		npc_helper.e_npc_add_item.appendChild(optgroup_building);
		for(var key in npc_helper.DataResource)
		{
			e_option = document.createElement("option");
			e_option.value = key;
			e_option.innerText = npc_helper.IDName[key];
			optgroup_building.appendChild(e_option);
		}
		
		//var optgroup_TroopsResearch = document.createElement("optgroup");
		//optgroup_TroopsResearch.label = "TroopsResearch";
		//npc_helper.e_npc_add_item.appendChild(optgroup_TroopsResearch);
		
		
		npc_helper.e_npc_add_item.onchange = e_npc_add_item_onchange;			
	}
	
	function e_npc_add_item_onchange()
	{
		if(npc_helper.e_npc_add_item.value == "-1") return;
		window.npc_helper.npc_level_from = $("#npc_level_from")[0];
		window.npc_helper.npc_level_to = $("#npc_level_to")[0];
		
		npc_helper.npc_level_from.value = 0;
		npc_helper.npc_level_from.min = 0;
		npc_helper.npc_level_from.max = npc_helper.DataResource[npc_helper.e_npc_add_item.value].length -1;
		
		npc_helper.npc_level_to.value = 1;
		npc_helper.npc_level_to.min = 1;
		npc_helper.npc_level_to.max = npc_helper.DataResource[npc_helper.e_npc_add_item.value].length;
	}
	
	function input_number_onchange()
	{
		window.npc_helper.e_npc_add_item.value
	}
	</script>
</div>
